(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9913)}])},9913:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return rn}});var t=r(5893),i=r(9008),a=r.n(i),o=r(8527),c=r(949),s=r(5113),l=r(1604),u=r(894),d=r(2091),h=r(7771);function f(){var n=(0,c.If)().toggleColorMode,e=(0,c.ff)("dark","light"),r=(0,c.ff)(d.TLr,d.Mei),i=(0,c.ff)("gray.100","gray.900"),a=(0,t.jsx)(o.rU,{href:"https://lynx.pink/buymeacoffee/",isExternal:!0,children:(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(d.$0H,{}),colorScheme:"pink",variant:"solid",ml:4,children:"Sponsor"})});return(0,t.jsx)(o.xu,{pos:"relative",children:(0,t.jsx)(l.m$.header,{bg:i,w:"full",overflowY:"hidden",children:(0,t.jsx)(l.m$.div,{h:"4.5rem",mx:"auto",maxW:"1200px",children:(0,t.jsxs)(o.kC,{w:"full",h:"full",px:"6",align:"center",justify:"space-between",children:[(0,t.jsx)(o.kC,{align:"center",children:(0,t.jsx)("b",{children:"Magnets"})}),(0,t.jsxs)(o.kC,{justify:"flex-end",w:"full",maxW:"824px",align:"center",color:"gray.400",children:[(0,t.jsx)(o.Ug,{spacing:"5",children:(0,t.jsx)(o.rU,{isExternal:!0,href:"https://github.com/4ndv/magnets",children:(0,t.jsx)(u.JO,{as:h.RrF,display:"block",transition:"color 0.2s",w:"5",h:"5",_hover:{color:"gray.600"}})})}),(0,t.jsx)(s.hU,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(e," mode"),variant:"ghost",color:"current",ml:{base:"0",md:"3"},onClick:n,icon:(0,t.jsx)(r,{})}),a]})]})})})})}var x=r(4924),p=r(6042),j=r(9396),m=r(9762),g=r(4612),v=r(4529),b=r(7568),k=r(92),w=r(7375),C=r(7506),_=r(3441),y=r(8318),I=r(3816),Z=r(8718),A=r.n(Z),z=r(8764),S=["infoHash","name","announce","xl","length"];function F(n){return new Promise((function(e,t){var i=new r.g.FileReader;i.onload=function(){return e(z.lW.from(i.result))},i.onerrror=t,i.readAsArrayBuffer(n)}))}function E(n){return N.apply(this,arguments)}function N(){return(N=(0,b.Z)((function(n){var e,r;return(0,k.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,I.ZP)(n)];case 1:return e=t.sent(),!(r=A()(e,S)).xl&&r.length&&(r.xl=r.length,delete r.length),r.announce=r.announce.join("\n"),[2,r]}}))}))).apply(this,arguments)}function O(n){return(0,I.lC)(function(n){var e=(0,p.Z)({},n);return 0===+e.xl&&delete e.xl,e.announce=e.announce.split("\n").filter(Boolean),e}(n))}var R={link:"",valid:!0},q=(0,v.ZP)((function(n){return(0,j.Z)((0,p.Z)({},R),{changeLink:function(e){var r=e.target.value;n({link:r,valid:!0})},parseAndValidate:function(){var e=(0,b.Z)((function(e){var r;return(0,k.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E(e)];case 1:return r=t.sent(),n({valid:!0}),[2,r];case 2:return t.sent(),n({valid:!1}),[2,!1];case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),reset:function(){n(R)}})}));function H(n){var e=n.replaceEditorState,r=q((function(n){return n.valid})),i=q((function(n){return n.parseAndValidate})),a=q((function(n){return n.link})),o=q((function(n){return n.changeLink})),c=q((function(n){return n.reset})),l=(0,w.qY)({onOpen:function(){return c()}}),u=l.isOpen,d=l.onOpen,h=l.onClose,f=function(){var n=(0,b.Z)((function(){var n;return(0,k.__generator)(this,(function(r){switch(r.label){case 0:return[4,i(a)];case 1:return(n=r.sent())&&(e(n),h()),[2]}}))}));return function(){return n.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(y.owE,{}),colorScheme:"teal",variant:"outline",onClick:d,children:"Import from magnet link"}),(0,t.jsxs)(C.u_,{isOpen:u,onClose:h,size:"xl",children:[(0,t.jsx)(C.ZA,{}),(0,t.jsxs)(C.hz,{children:[(0,t.jsx)(C.xB,{children:"Import from magnet link"}),(0,t.jsx)(C.ol,{}),(0,t.jsx)(C.fe,{children:(0,t.jsx)(_.g,{placeholder:"magnet:?xt=urn:btih:WJWICNR2YGRDM5STQWTQFLWBA6SJLANV&dn=example&xl=3071934464&tr=https%3A%2F%2Fexample.com%2Fannounce",value:a,onChange:o,isInvalid:!r,rows:10})}),(0,t.jsxs)(C.mz,{children:[(0,t.jsx)(s.zx,{colorScheme:"red",mr:3,onClick:h,children:"Cancel"}),(0,t.jsx)(s.zx,{colorScheme:"teal",variant:"solid",onClick:function(){return f()},children:"Import"})]})]})]})]})}var L=r(6886),M=r(7294),P=r(1582);function Q(n){var e=n.onFileAccepted,r=(0,M.useCallback)((function(n){e(n[0])}),[e]),i=(0,P.uI)({onDrop:r,accept:".torrent",maxFiles:1,multiple:!1}),a=i.getRootProps,s=i.getInputProps,l=i.isDragActive,d=l?"Drop the files here ...":"Drag 'n' drop .torrent file here, or click to select files",f=(0,c.ff)("gray.100","gray.600"),x=(0,c.ff)(l?"teal.300":"gray.300",l?"teal.500":"gray.500");return(0,t.jsxs)(o.M5,(0,j.Z)((0,p.Z)({p:10,cursor:"pointer",bg:l?f:"transparent",_hover:{bg:f},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:x},a()),{children:[(0,t.jsx)("input",(0,p.Z)({},s())),(0,t.jsx)(u.JO,{as:h.QZL,mr:2}),(0,t.jsx)("p",{children:d})]}))}var B=(0,v.ZP)((function(n){return{valid:!0,parseAndValidate:function(){var e=(0,b.Z)((function(e){var r,t;return(0,k.__generator)(this,(function(i){switch(i.label){case 0:return[4,F(e)];case 1:r=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,E(r)];case 3:return t=i.sent(),n({valid:!0}),[2,t];case 4:return i.sent(),n({valid:!1}),[2,!1];case 5:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),reset:function(){n({valid:!0})}}}));function D(n){var e=n.replaceEditorState,r=B((function(n){return n.valid})),i=B((function(n){return n.parseAndValidate})),a=B((function(n){return n.reset})),o=(0,w.qY)({onOpen:function(){return a()}}),c=o.isOpen,l=o.onOpen,u=o.onClose,d=function(){var n=(0,b.Z)((function(n){var r;return(0,k.__generator)(this,(function(t){switch(t.label){case 0:return[4,i(n)];case 1:return(r=t.sent())&&(e(r),u()),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),f=null;return r||(f=(0,t.jsxs)(L.bZ,{status:"error",borderRadius:4,mt:5,children:[(0,t.jsx)(L.zM,{}),(0,t.jsx)(L.Cd,{mr:2,children:"Invalid file"}),(0,t.jsx)(L.X,{children:"Choose another .torrent file"})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(h.QZL,{}),colorScheme:"teal",variant:"outline",onClick:l,children:"Import from .torrent file"}),(0,t.jsxs)(C.u_,{isOpen:c,onClose:u,size:"xl",children:[(0,t.jsx)(C.ZA,{}),(0,t.jsxs)(C.hz,{children:[(0,t.jsx)(C.xB,{children:"Import from .torrent file"}),(0,t.jsx)(C.ol,{}),(0,t.jsxs)(C.fe,{children:[(0,t.jsx)(Q,{onFileAccepted:d}),f]}),(0,t.jsx)(C.mz,{children:(0,t.jsx)(s.zx,{colorScheme:"red",onClick:u,children:"Cancel"})})]})]})]})}var U=r(8276),W=(0,M.forwardRef)((function(n,e){return(0,t.jsx)(_.g,(0,p.Z)({transition:"height none",minH:"unset",overflow:"hidden",w:"100%",resize:"none",ref:e,minRows:1,as:U.Z},n))}));var X=function(n){return(0,t.jsx)(o.xu,(0,p.Z)({padding:"5",rounded:"8px",bg:(0,c.ff)("gray.100","gray.900")},n))};var T=function(n){var e=n.code;return(0,t.jsx)(o.xu,{position:"relative",zIndex:"0",children:(0,t.jsx)(X,{overflow:"hidden",wordBreak:"break-all",children:e})})};var V=function(n){var e=n.code,r=(0,w.VP)(e),i=r.hasCopied,a=r.onCopy;return(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(y.owE,{}),variant:"outline",onClick:a,children:i?"Copied":"Copy magnet link"})};function J(n){var e=n.torrentObject,r=e.infoHash,i=/^[0-9a-fA-F]{40}$/i.test(r),a=i?O(e):"Specify valid Info Hash to generate magnet link",c=null;return i&&(c=(0,t.jsxs)(o.Kq,{direction:{base:"column",md:"row"},spacing:1,mb:3,children:[(0,t.jsx)(V,{code:a}),(0,t.jsx)(o.rU,{href:"https://itorrents.org/torrent/".concat(r,".torrent"),isExternal:!0,children:(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(h.xNt,{}),variant:"outline",w:"100%",children:"Download .torrent from cache"})})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.X6,{size:"lg",mb:2,children:"Result"}),c,(0,t.jsx)(T,{code:a})]})}var Y=r(4017),$=["best","best_ip","all","all_ip","all_udp","all_http","all_https","all_ws"];function K(n){var e=n.announce,i=n.changeField,a=n.clearAnnounce,c=n.replaceAnnounce,l=function(n){return(0,b.Z)((function(){var t,i;return(0,k.__generator)(this,(function(a){switch(a.label){case 0:return[4,r.g.fetch("https://cdn.jsdelivr.net/gh/ngosang/trackerslist@master/trackers_".concat(n,".txt"))];case 1:return[4,a.sent().text()];case 2:return t=a.sent(),i=t.split("\n").filter(Boolean),c(Array.from(new Set(e.split("\n").concat(i))).filter(Boolean).join("\n")),[2]}}))}))};return(0,t.jsxs)(m.NI,{id:"xl",mt:7,children:[(0,t.jsx)(m.lX,{children:"Trackers"}),(0,t.jsxs)(o.Kq,{direction:{base:"column",md:"row"},spacing:1,my:2,children:[(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(d.lp8,{}),colorScheme:"red",variant:"outline",onClick:a,disabled:""===e.trim(),children:"Clear"}),(0,t.jsxs)(Y.v2,{children:[(0,t.jsx)(Y.j2,{as:s.zx,variant:"outline",rightIcon:(0,t.jsx)(d.RiI,{}),children:"Add from trackerslist*"}),(0,t.jsx)(Y.qy,{children:$.map((function(n){return(0,t.jsx)(Y.sN,{onClick:l(n),children:n},n)}))})]})]}),(0,t.jsx)(W,{value:e,name:"announce",onChange:i}),(0,t.jsx)(m.Q6,{children:"List of the trackers which will be used to find peers"}),(0,t.jsxs)(m.Q6,{children:["*",(0,t.jsx)(o.rU,{href:"https://github.com/ngosang/trackerslist",textDecoration:"underline",isExternal:!0,children:"trackerslist"})," ","- is a daily updated list of public bittorrent trackers"]})]})}var G={infoHash:"",name:"",announce:"",xl:"",edited:!1},nn=(0,v.ZP)((function(n){return(0,j.Z)((0,p.Z)({},G),{clear:function(){return n(G)},replace:function(e){return n((0,j.Z)((0,p.Z)({},G,e),{edited:!0}))},changeField:function(e){var r,t=e.target,i=t.name,a=t.value;n((r={},(0,x.Z)(r,i,a),(0,x.Z)(r,"edited",!0),r))},changeName:function(e){var r=e.target.value;n({name:r.replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," "),edited:!0})},clearAnnounce:function(){return n({announce:"",edited:!0})},replaceAnnounce:function(e){return n({announce:e,edited:!0})}})}));function en(){var n=nn((function(n){return n.replace})),e=nn((function(n){return n.changeField})),r=nn((function(n){return n.edited})),i=nn((function(n){return n.infoHash})),a=nn((function(n){return n.name})),c=nn((function(n){return n.changeName})),l=nn((function(n){return n.announce})),u=nn((function(n){return n.clearAnnounce})),h=nn((function(n){return n.replaceAnnounce})),f=nn((function(n){return n.xl})),x={infoHash:i,name:a,announce:l,xl:f};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Kq,{direction:{base:"column",md:"row"},spacing:1,children:[(0,t.jsx)(H,{replaceEditorState:n}),(0,t.jsx)(D,{replaceEditorState:n}),(0,t.jsx)(s.zx,{leftIcon:(0,t.jsx)(d.lp8,{}),colorScheme:"red",variant:"outline",onClick:nn((function(n){return n.clear})),disabled:!r,children:"Reset form"})]}),(0,t.jsxs)(o.MI,{columns:{sm:1,md:2},mt:5,spacing:8,children:[(0,t.jsxs)(o.xu,{children:[(0,t.jsxs)(m.NI,{id:"infoHash",isRequired:!0,children:[(0,t.jsx)(m.lX,{children:"Info Hash"}),(0,t.jsx)(g.II,{name:"infoHash",value:i,maxLength:40,onChange:e}),(0,t.jsxs)(m.Q6,{children:["Unique hash of a torrent, learn more"," ",(0,t.jsx)(o.rU,{isExternal:!0,textDecoration:"underline",href:"https://stackoverflow.com/a/28601408/5257518",children:"here"})]})]}),(0,t.jsxs)(m.NI,{id:"name",mt:7,children:[(0,t.jsx)(m.lX,{children:"Name"}),(0,t.jsx)(W,{name:"name",value:a,onChange:c}),(0,t.jsx)(m.Q6,{children:"It will appear in the torrent client, not required"})]}),(0,t.jsxs)(m.NI,{id:"xl",mt:7,children:[(0,t.jsx)(m.lX,{children:"Size (in bytes)"}),(0,t.jsx)(g.II,{name:"xl",value:f,onChange:e}),(0,t.jsx)(m.Q6,{children:"Allows to show size in the torrent client before data is aquired from the peers. Not required, may be unsupported by some clients"})]}),(0,t.jsx)(K,{announce:l,changeField:e,clearAnnounce:u,replaceAnnounce:h})]}),(0,t.jsx)(o.xu,{children:(0,t.jsx)(J,{torrentObject:x})})]})]})}function rn(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{}),(0,t.jsxs)(a(),{children:[(0,t.jsx)("title",{children:"Magnets - Online Magnet Links Editor"}),(0,t.jsx)("meta",{name:"description",content:"Magnets is a visual magnet link generator, editor and parser. Convert torrent files to magnets and vice versa, edit and import trackers, and much more"})]}),(0,t.jsx)(o.xu,{mx:"auto",p:"6",maxW:"1200px",children:(0,t.jsx)(en,{})})]})}},1982:function(){}},function(n){n.O(0,[660,365,594,457,774,888,179],(function(){return e=5557,n(n.s=e);var e}));var e=n.O();_N_E=e}]);