(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9913)}])},9913:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return rn}});var t=r(5893),i=r(9008),o=r.n(i),a=r(8527),c=r(949),l=r(5113),s=r(1604),u=r(894),d=r(9583),h=r(8193);function x(){var n=(0,c.If)().toggleColorMode,e=(0,c.ff)("dark","light"),r=(0,c.ff)(d.TLr,d.Mei),i=(0,c.ff)("gray.100","gray.900"),o=(0,t.jsx)(a.rU,{href:"https://lynx.pink/buymeacoffee/",isExternal:!0,children:(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(d.$0H,{}),colorScheme:"pink",variant:"solid",ml:4,children:"Sponsor"})});return(0,t.jsx)(a.xu,{pos:"relative",children:(0,t.jsx)(s.m$.header,{bg:i,w:"full",overflowY:"hidden",children:(0,t.jsx)(s.m$.div,{h:"4.5rem",mx:"auto",maxW:"1200px",children:(0,t.jsxs)(a.kC,{w:"full",h:"full",px:"6",align:"center",justify:"space-between",children:[(0,t.jsx)(a.kC,{align:"center",children:(0,t.jsx)("b",{children:"Magnets"})}),(0,t.jsxs)(a.kC,{justify:"flex-end",w:"full",maxW:"824px",align:"center",color:"gray.400",children:[(0,t.jsx)(a.Ug,{spacing:"5",children:(0,t.jsx)(a.rU,{isExternal:!0,href:"https://github.com/4ndv/magnets",children:(0,t.jsx)(u.JO,{as:h.RrF,display:"block",transition:"color 0.2s",w:"5",h:"5",_hover:{color:"gray.600"}})})}),(0,t.jsx)(l.hU,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(e," mode"),variant:"ghost",color:"current",ml:{base:"0",md:"3"},onClick:n,icon:(0,t.jsx)(r,{})}),o]})]})})})})}var f=r(4924),j=r(6042),m=r(9396),p=r(9762),g=r(4612),v=r(4671),k=r(7375),b=r(1667),w=r(3441),C=r(155),I=r(5203),y=r.n(I),_=r(8718),A=r.n(_),Z=r(8764),z=["infoHash","name","announce","xl"];function S(n){return new Promise((function(e,t){var i=new r.g.FileReader;i.onload=function(){return e(Z.Buffer.from(i.result))},i.onerrror=t,i.readAsArrayBuffer(n)}))}function F(n){var e=y()(n),r=A()(e,z);return r.announce=r.announce.join("\n"),r}function E(n){return y().toMagnetURI(function(n){var e=(0,j.Z)({},n);return 0===+e.xl&&delete e.xl,e.announce=e.announce.split("\n").filter(Boolean),e}(n))}var N={link:"",valid:!0},O=(0,v.Z)((function(n){return(0,m.Z)((0,j.Z)({},N),{changeLink:function(e){var r=e.target.value;n({link:r,valid:!0})},parseAndValidate:function(e){try{var r=F(e);return n({valid:!0}),r}catch(t){return n({valid:!1}),!1}},reset:function(){n(N)}})}));function R(n){var e=n.replaceEditorState,r=O((function(n){return n.valid})),i=O((function(n){return n.parseAndValidate})),o=O((function(n){return n.link})),a=O((function(n){return n.changeLink})),c=O((function(n){return n.reset})),s=(0,k.qY)({onOpen:function(){return c()}}),u=s.isOpen,d=s.onOpen,h=s.onClose;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(C.owE,{}),colorScheme:"teal",variant:"outline",onClick:d,children:"Import from magnet link"}),(0,t.jsxs)(b.u_,{isOpen:u,onClose:h,size:"xl",children:[(0,t.jsx)(b.ZA,{}),(0,t.jsxs)(b.hz,{children:[(0,t.jsx)(b.xB,{children:"Import from magnet link"}),(0,t.jsx)(b.ol,{}),(0,t.jsx)(b.fe,{children:(0,t.jsx)(w.g,{placeholder:"magnet:?xt=urn:btih:WJWICNR2YGRDM5STQWTQFLWBA6SJLANV&dn=example&xl=3071934464&tr=https%3A%2F%2Fexample.com%2Fannounce",value:o,onChange:a,isInvalid:!r,rows:10})}),(0,t.jsxs)(b.mz,{children:[(0,t.jsx)(l.zx,{colorScheme:"red",mr:3,onClick:h,children:"Cancel"}),(0,t.jsx)(l.zx,{colorScheme:"teal",variant:"solid",onClick:function(){return function(){var n=i(o);n&&(e(n),h())}()},children:"Import"})]})]})]})]})}var q=r(7568),H=r(92),M=r(6886),L=r(7294),B=r(2512);function Q(n){var e=n.onFileAccepted,r=(0,L.useCallback)((function(n){e(n[0])}),[e]),i=(0,B.uI)({onDrop:r,accept:".torrent",maxFiles:1,multiple:!1}),o=i.getRootProps,l=i.getInputProps,s=i.isDragActive,d=s?"Drop the files here ...":"Drag 'n' drop .torrent file here, or click to select files",x=(0,c.ff)("gray.100","gray.600"),f=(0,c.ff)(s?"teal.300":"gray.300",s?"teal.500":"gray.500");return(0,t.jsxs)(a.M5,(0,m.Z)((0,j.Z)({p:10,cursor:"pointer",bg:s?x:"transparent",_hover:{bg:x},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:f},o()),{children:[(0,t.jsx)("input",(0,j.Z)({},l())),(0,t.jsx)(u.JO,{as:h.QZL,mr:2}),(0,t.jsx)("p",{children:d})]}))}var U=(0,v.Z)((function(n){return{valid:!0,parseAndValidate:function(){var e=(0,q.Z)((function(e){var r,t;return(0,H.__generator)(this,(function(i){switch(i.label){case 0:return[4,S(e)];case 1:r=i.sent();try{return t=F(r),n({valid:!0}),[2,t]}catch(o){return n({valid:!1}),[2,!1]}return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),reset:function(){n({valid:!0})}}}));function D(n){var e=n.replaceEditorState,r=U((function(n){return n.valid})),i=U((function(n){return n.parseAndValidate})),o=U((function(n){return n.reset})),a=(0,k.qY)({onOpen:function(){return o()}}),c=a.isOpen,s=a.onOpen,u=a.onClose,d=function(){var n=(0,q.Z)((function(n){var r;return(0,H.__generator)(this,(function(t){switch(t.label){case 0:return[4,i(n)];case 1:return(r=t.sent())&&(e(r),u()),[2]}}))}));return function(e){return n.apply(this,arguments)}}(),x=null;return r||(x=(0,t.jsxs)(M.bZ,{status:"error",borderRadius:4,mt:5,children:[(0,t.jsx)(M.zM,{}),(0,t.jsx)(M.Cd,{mr:2,children:"Invalid file"}),(0,t.jsx)(M.X,{children:"Choose another .torrent file"})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(h.QZL,{}),colorScheme:"teal",variant:"outline",onClick:s,children:"Import from .torrent file"}),(0,t.jsxs)(b.u_,{isOpen:c,onClose:u,size:"xl",children:[(0,t.jsx)(b.ZA,{}),(0,t.jsxs)(b.hz,{children:[(0,t.jsx)(b.xB,{children:"Import from .torrent file"}),(0,t.jsx)(b.ol,{}),(0,t.jsxs)(b.fe,{children:[(0,t.jsx)(Q,{onFileAccepted:d}),x]}),(0,t.jsx)(b.mz,{children:(0,t.jsx)(l.zx,{colorScheme:"red",onClick:u,children:"Cancel"})})]})]})]})}var X=r(3463),W=(0,L.forwardRef)((function(n,e){return(0,t.jsx)(w.g,(0,j.Z)({transition:"height none",minH:"unset",overflow:"hidden",w:"100%",resize:"none",ref:e,minRows:1,as:X.Z},n))}));var P=function(n){return(0,t.jsx)(a.xu,(0,j.Z)({padding:"5",rounded:"8px",bg:(0,c.ff)("gray.100","gray.900")},n))};var T=function(n){var e=n.code;return(0,t.jsx)(a.xu,{position:"relative",zIndex:"0",children:(0,t.jsx)(P,{overflow:"hidden",wordBreak:"break-all",children:e})})};var V=function(n){var e=n.code,r=(0,k.VP)(e),i=r.hasCopied,o=r.onCopy;return(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(C.owE,{}),variant:"outline",onClick:o,children:i?"Copied":"Copy magnet link"})};function J(n){var e=n.torrentObject,r=e.infoHash,i=/^[0-9a-fA-F]{40}$/i.test(r),o=i?E(e):"Specify valid Info Hash to generate magnet link",c=null;return i&&(c=(0,t.jsxs)(a.Kq,{direction:{base:"column",md:"row"},spacing:1,mb:3,children:[(0,t.jsx)(V,{code:o}),(0,t.jsx)(a.rU,{href:"https://itorrents.org/torrent/".concat(r,".torrent"),isExternal:!0,children:(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(h.xNt,{}),variant:"outline",w:"100%",children:"Download .torrent from cache"})})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.X6,{size:"lg",mb:2,children:"Result"}),c,(0,t.jsx)(T,{code:o})]})}var Y=r(4017),$=["best","best_ip","all","all_ip","all_udp","all_http","all_https","all_ws"];function K(n){var e=n.announce,i=n.changeField,o=n.clearAnnounce,c=n.replaceAnnounce,s=function(n){return(0,q.Z)((function(){var t,i;return(0,H.__generator)(this,(function(o){switch(o.label){case 0:return[4,r.g.fetch("https://cdn.jsdelivr.net/gh/ngosang/trackerslist@master/trackers_".concat(n,".txt"))];case 1:return[4,o.sent().text()];case 2:return t=o.sent(),i=t.split("\n").filter(Boolean),c(Array.from(new Set(e.split("\n").concat(i))).filter(Boolean).join("\n")),[2]}}))}))};return(0,t.jsxs)(p.NI,{id:"xl",mt:7,children:[(0,t.jsx)(p.lX,{children:"Trackers"}),(0,t.jsxs)(a.Kq,{direction:{base:"column",md:"row"},spacing:1,my:2,children:[(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(d.lp8,{}),colorScheme:"red",variant:"outline",onClick:o,disabled:""===e.trim(),children:"Clear"}),(0,t.jsxs)(Y.v2,{children:[(0,t.jsx)(Y.j2,{as:l.zx,variant:"outline",rightIcon:(0,t.jsx)(d.RiI,{}),children:"Add from trackerslist*"}),(0,t.jsx)(Y.qy,{children:$.map((function(n){return(0,t.jsx)(Y.sN,{onClick:s(n),children:n},n)}))})]})]}),(0,t.jsx)(W,{value:e,name:"announce",onChange:i}),(0,t.jsx)(p.Q6,{children:"List of the trackers which will be used to find peers"}),(0,t.jsxs)(p.Q6,{children:["*",(0,t.jsx)(a.rU,{href:"https://github.com/ngosang/trackerslist",textDecoration:"underline",isExternal:!0,children:"trackerslist"})," ","- is a daily updated list of public bittorrent trackers"]})]})}var G={infoHash:"",name:"",announce:"",xl:"",edited:!1},nn=(0,v.Z)((function(n){return(0,m.Z)((0,j.Z)({},G),{clear:function(){return n(G)},replace:function(e){return n((0,m.Z)((0,j.Z)({},G,e),{edited:!0}))},changeField:function(e){var r,t=e.target,i=t.name,o=t.value;n((r={},(0,f.Z)(r,i,o),(0,f.Z)(r,"edited",!0),r))},changeName:function(e){var r=e.target.value;n({name:r.replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," "),edited:!0})},clearAnnounce:function(){return n({announce:"",edited:!0})},replaceAnnounce:function(e){return n({announce:e,edited:!0})}})}));function en(){var n=nn((function(n){return n.replace})),e=nn((function(n){return n.changeField})),r=nn((function(n){return n.edited})),i=nn((function(n){return n.infoHash})),o=nn((function(n){return n.name})),c=nn((function(n){return n.changeName})),s=nn((function(n){return n.announce})),u=nn((function(n){return n.clearAnnounce})),h=nn((function(n){return n.replaceAnnounce})),x=nn((function(n){return n.xl})),f={infoHash:i,name:o,announce:s,xl:x};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Kq,{direction:{base:"column",md:"row"},spacing:1,children:[(0,t.jsx)(R,{replaceEditorState:n}),(0,t.jsx)(D,{replaceEditorState:n}),(0,t.jsx)(l.zx,{leftIcon:(0,t.jsx)(d.lp8,{}),colorScheme:"red",variant:"outline",onClick:nn((function(n){return n.clear})),disabled:!r,children:"Reset form"})]}),(0,t.jsxs)(a.MI,{columns:{sm:1,md:2},mt:5,spacing:8,children:[(0,t.jsxs)(a.xu,{children:[(0,t.jsxs)(p.NI,{id:"infoHash",isRequired:!0,children:[(0,t.jsx)(p.lX,{children:"Info Hash"}),(0,t.jsx)(g.II,{name:"infoHash",value:i,maxLength:40,onChange:e}),(0,t.jsxs)(p.Q6,{children:["Unique hash of a torrent, learn more"," ",(0,t.jsx)(a.rU,{isExternal:!0,textDecoration:"underline",href:"https://stackoverflow.com/a/28601408/5257518",children:"here"})]})]}),(0,t.jsxs)(p.NI,{id:"name",mt:7,children:[(0,t.jsx)(p.lX,{children:"Name"}),(0,t.jsx)(W,{name:"name",value:o,onChange:c}),(0,t.jsx)(p.Q6,{children:"It will appear in the torrent client, not required"})]}),(0,t.jsxs)(p.NI,{id:"xl",mt:7,children:[(0,t.jsx)(p.lX,{children:"Size (in bytes)"}),(0,t.jsx)(g.II,{name:"xl",value:x,onChange:e}),(0,t.jsx)(p.Q6,{children:"Allows to show size in the torrent client before data is aquired from the peers. Not required, may be unsupported by some clients"})]}),(0,t.jsx)(K,{announce:s,changeField:e,clearAnnounce:u,replaceAnnounce:h})]}),(0,t.jsx)(a.xu,{children:(0,t.jsx)(J,{torrentObject:f})})]})]})}function rn(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{}),(0,t.jsxs)(o(),{children:[(0,t.jsx)("title",{children:"Magnets - Online Magnet Links Editor"}),(0,t.jsx)("meta",{name:"description",content:"Magnets is a visual magnet link generator, editor and parser. Convert torrent files to magnets and vice versa, edit and import trackers, and much more"})]}),(0,t.jsx)(a.xu,{mx:"auto",p:"6",maxW:"1200px",children:(0,t.jsx)(en,{})})]})}},1982:function(){},1356:function(){}},function(n){n.O(0,[260,445,617,304,774,888,179],(function(){return e=5557,n(n.s=e);var e}));var e=n.O();_N_E=e}]);