(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7317)}])},7317:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ef}});var t=r(5893),l=r(9008),i=r.n(l),a=r(7747),s=r(5161),o=r(2883),c=r(4225),d=r(6237),h=r(3717),x=r(4292),u=r(6948),j=r(9993),m=r(8773),f=r(9367);function p(){let{toggleColorMode:e}=(0,s.If)(),n=(0,s.ff)("dark","light"),r=(0,s.ff)(m.TLr,m.Mei),l=(0,s.ff)("gray.100","gray.900"),i=(0,t.jsx)(o.r,{href:"https://lynx.pink/buymeacoffee/",isExternal:!0,children:(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(m.$0H,{}),colorScheme:"pink",variant:"solid",ml:4,children:"Sponsor"})});return(0,t.jsx)(a.xu,{pos:"relative",children:(0,t.jsx)(d.m.header,{bg:l,w:"full",overflowY:"hidden",children:(0,t.jsx)(d.m.div,{h:"4.5rem",mx:"auto",maxW:"1200px",children:(0,t.jsxs)(h.k,{w:"full",h:"full",px:"6",align:"center",justify:"space-between",children:[(0,t.jsx)(h.k,{align:"center",children:(0,t.jsx)("b",{children:"Magnets"})}),(0,t.jsxs)(h.k,{justify:"flex-end",w:"full",maxW:"824px",align:"center",color:"gray.400",children:[(0,t.jsx)(x.U,{spacing:"5",children:(0,t.jsx)(o.r,{isExternal:!0,href:"https://github.com/4ndv/magnets",children:(0,t.jsx)(u.J,{as:f.RrF,display:"block",transition:"color 0.2s",w:"5",h:"5",_hover:{color:"gray.600"}})})}),(0,t.jsx)(j.h,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",ml:{base:"0",md:"3"},onClick:e,icon:(0,t.jsx)(r,{})}),i]})]})})})})}var g=r(6702),v=r(2177),k=r(4834),w=r(5418),b=r(3090),y=r(4529),C=r(967),I=r(5541),_=r(9778),z=r(3486),A=r(4859),S=r(6205),F=r(4346),N=r(7169),E=r(4253),R=r(8644),L=r(3816),H=r(8718),M=r.n(H),Q=r(8764);let q=["infoHash","name","announce","xl","length"];async function O(e){let n=await (0,L.ZP)(e),r=M()(n,q);return!r.xl&&r.length&&(r.xl=r.length,delete r.length),r.announce=r.announce.join("\n"),r}let W={link:"",valid:!0},B=(0,y.Ue)(e=>({...W,changeLink:n=>{let{target:{value:r}}=n;e({link:r,valid:!0})},parseAndValidate:async n=>{try{let r=await O(n);return e({valid:!0}),r}catch(n){return e({valid:!1}),!1}},reset:()=>{e(W)}}));function D(e){let{replaceEditorState:n}=e,r=B(e=>e.valid),l=B(e=>e.parseAndValidate),i=B(e=>e.link),a=B(e=>e.changeLink),s=B(e=>e.reset),{isOpen:o,onOpen:d,onClose:h}=(0,C.q)({onOpen:()=>s()}),x=async()=>{let e=await l(i);e&&(n(e),h())};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(R.owE,{}),colorScheme:"teal",variant:"outline",onClick:d,children:"Import from magnet link"}),(0,t.jsxs)(I.u_,{isOpen:o,onClose:h,size:"xl",children:[(0,t.jsx)(_.Z,{}),(0,t.jsxs)(z.h,{children:[(0,t.jsx)(A.x,{children:"Import from magnet link"}),(0,t.jsx)(S.o,{}),(0,t.jsx)(F.f,{children:(0,t.jsx)(N.g,{placeholder:"magnet:?xt=urn:btih:WJWICNR2YGRDM5STQWTQFLWBA6SJLANV&dn=example&xl=3071934464&tr=https%3A%2F%2Fexample.com%2Fannounce",value:i,onChange:a,isInvalid:!r,rows:10})}),(0,t.jsxs)(E.m,{children:[(0,t.jsx)(c.z,{colorScheme:"red",mr:3,onClick:h,children:"Cancel"}),(0,t.jsx)(c.z,{colorScheme:"teal",variant:"solid",onClick:()=>x(),children:"Import"})]})]})]})]})}var T=r(4153),V=r(7405),Z=r(8652),U=r(2798),J=r(7294),P=r(2512),X=r(7239);function K(e){let{onFileAccepted:n}=e,r=(0,J.useCallback)(e=>{n(e[0])},[n]),{getRootProps:l,getInputProps:i,isDragActive:a}=(0,P.uI)({onDrop:r,accept:".torrent",maxFiles:1,multiple:!1}),o=(0,s.ff)("gray.100","gray.600"),c=(0,s.ff)(a?"teal.300":"gray.300",a?"teal.500":"gray.500");return(0,t.jsxs)(X.M,{p:10,cursor:"pointer",bg:a?o:"transparent",_hover:{bg:o},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:c,...l(),children:[(0,t.jsx)("input",{...i()}),(0,t.jsx)(u.J,{as:f.QZL,mr:2}),(0,t.jsx)("p",{children:a?"Drop the files here ...":"Drag 'n' drop .torrent file here, or click to select files"})]})}let Y=(0,y.Ue)(e=>({valid:!0,parseAndValidate:async n=>{let t=await new Promise((e,t)=>{let l=new r.g.FileReader;l.onload=()=>e(Q.lW.from(l.result)),l.onerrror=t,l.readAsArrayBuffer(n)});try{let n=await O(t);return e({valid:!0}),n}catch(n){return e({valid:!1}),!1}},reset:()=>{e({valid:!0})}}));function $(e){let{replaceEditorState:n}=e,r=Y(e=>e.valid),l=Y(e=>e.parseAndValidate),i=Y(e=>e.reset),{isOpen:a,onOpen:s,onClose:o}=(0,C.q)({onOpen:()=>i()}),d=async e=>{let r=await l(e);r&&(n(r),o())},h=null;return r||(h=(0,t.jsxs)(T.b,{status:"error",borderRadius:4,mt:5,children:[(0,t.jsx)(V.z,{}),(0,t.jsx)(Z.C,{mr:2,children:"Invalid file"}),(0,t.jsx)(U.X,{children:"Choose another .torrent file"})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(f.QZL,{}),colorScheme:"teal",variant:"outline",onClick:s,children:"Import from .torrent file"}),(0,t.jsxs)(I.u_,{isOpen:a,onClose:o,size:"xl",children:[(0,t.jsx)(_.Z,{}),(0,t.jsxs)(z.h,{children:[(0,t.jsx)(A.x,{children:"Import from .torrent file"}),(0,t.jsx)(S.o,{}),(0,t.jsxs)(F.f,{children:[(0,t.jsx)(K,{onFileAccepted:d}),h]}),(0,t.jsx)(E.m,{children:(0,t.jsx)(c.z,{colorScheme:"red",onClick:o,children:"Cancel"})})]})]})]})}var G=r(8276);let ee=(0,J.forwardRef)((e,n)=>(0,t.jsx)(N.g,{transition:"height none",minH:"unset",overflow:"hidden",w:"100%",resize:"none",ref:n,minRows:1,as:G.Z,...e}));var en=r(2757),er=function(e){return(0,t.jsx)(a.xu,{padding:"5",rounded:"8px",bg:(0,s.ff)("gray.100","gray.900"),...e})},et=function(e){let{code:n}=e;return(0,t.jsx)(a.xu,{position:"relative",zIndex:"0",children:(0,t.jsx)(er,{overflow:"hidden",wordBreak:"break-all",children:n})})},el=r(3978),ei=function(e){let{code:n}=e,{hasCopied:r,onCopy:l}=(0,el.V)(n);return(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(R.owE,{}),variant:"outline",onClick:l,children:r?"Copied":"Copy magnet link"})};function ea(e){let{torrentObject:n}=e,{infoHash:r}=n,l=/^[0-9a-fA-F]{40}$/i.test(r),i=l?(0,L.lC)(function(e){let n={...e};return 0==+n.xl&&delete n.xl,n.announce=n.announce.split("\n").filter(Boolean),n}(n)):"Specify valid Info Hash to generate magnet link",a=null;return l&&(a=(0,t.jsxs)(g.K,{direction:{base:"column",md:"row"},spacing:1,mb:3,children:[(0,t.jsx)(ei,{code:i}),(0,t.jsx)(o.r,{href:"https://itorrents.org/torrent/".concat(r,".torrent"),isExternal:!0,children:(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(f.xNt,{}),variant:"outline",w:"100%",children:"Download .torrent from cache"})})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(en.X,{size:"lg",mb:2,children:"Result"}),a,(0,t.jsx)(et,{code:i})]})}var es=r(6712),eo=r(1170),ec=r(4040),ed=r(8230);let eh=["best","best_ip","all","all_ip","all_udp","all_http","all_https","all_ws"];function ex(e){let{announce:n,changeField:l,clearAnnounce:i,replaceAnnounce:a}=e,s=e=>async()=>{let t=await r.g.fetch("https://cdn.jsdelivr.net/gh/ngosang/trackerslist@master/trackers_".concat(e,".txt")),l=(await t.text()).split("\n").filter(Boolean);a(Array.from(new Set(n.split("\n").concat(l))).filter(Boolean).join("\n"))};return(0,t.jsxs)(k.NI,{id:"xl",mt:7,children:[(0,t.jsx)(w.l,{children:"Trackers"}),(0,t.jsxs)(g.K,{direction:{base:"column",md:"row"},spacing:1,my:2,children:[(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(m.lp8,{}),colorScheme:"red",variant:"outline",onClick:i,disabled:""===n.trim(),children:"Clear"}),(0,t.jsxs)(es.v,{children:[(0,t.jsx)(eo.j,{as:c.z,variant:"outline",rightIcon:(0,t.jsx)(m.RiI,{}),children:"Add from trackerslist*"}),(0,t.jsx)(ec.q,{children:eh.map(e=>(0,t.jsx)(ed.s,{onClick:s(e),children:e},e))})]})]}),(0,t.jsx)(ee,{value:n,name:"announce",onChange:l}),(0,t.jsx)(k.Q6,{children:"List of the trackers which will be used to find peers"}),(0,t.jsxs)(k.Q6,{children:["*",(0,t.jsx)(o.r,{href:"https://github.com/ngosang/trackerslist",textDecoration:"underline",isExternal:!0,children:"trackerslist"})," ","- is a daily updated list of public bittorrent trackers"]})]})}let eu={infoHash:"",name:"",announce:"",xl:"",edited:!1},ej=(0,y.Ue)(e=>({...eu,clear:()=>e(eu),replace:n=>e({...eu,...n,edited:!0}),changeField:n=>{let{name:r,value:t}=n.target;e({[r]:t,edited:!0})},changeName:n=>{let{value:r}=n.target;e({name:r.replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," "),edited:!0})},clearAnnounce:()=>e({announce:"",edited:!0}),replaceAnnounce:n=>e({announce:n,edited:!0})}));function em(){let e=ej(e=>e.replace),n=ej(e=>e.changeField),r=ej(e=>e.edited),l=ej(e=>e.infoHash),i=ej(e=>e.name),s=ej(e=>e.changeName),d=ej(e=>e.announce),h=ej(e=>e.clearAnnounce),x=ej(e=>e.replaceAnnounce),u=ej(e=>e.xl);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.K,{direction:{base:"column",md:"row"},spacing:1,children:[(0,t.jsx)(D,{replaceEditorState:e}),(0,t.jsx)($,{replaceEditorState:e}),(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(m.lp8,{}),colorScheme:"red",variant:"outline",onClick:ej(e=>e.clear),disabled:!r,children:"Reset form"})]}),(0,t.jsxs)(v.M,{columns:{sm:1,md:2},mt:5,spacing:8,children:[(0,t.jsxs)(a.xu,{children:[(0,t.jsxs)(k.NI,{id:"infoHash",isRequired:!0,children:[(0,t.jsx)(w.l,{children:"Info Hash"}),(0,t.jsx)(b.I,{name:"infoHash",value:l,maxLength:40,onChange:n}),(0,t.jsxs)(k.Q6,{children:["Unique hash of a torrent, learn more"," ",(0,t.jsx)(o.r,{isExternal:!0,textDecoration:"underline",href:"https://stackoverflow.com/a/28601408/5257518",children:"here"})]})]}),(0,t.jsxs)(k.NI,{id:"name",mt:7,children:[(0,t.jsx)(w.l,{children:"Name"}),(0,t.jsx)(ee,{name:"name",value:i,onChange:s}),(0,t.jsx)(k.Q6,{children:"It will appear in the torrent client, not required"})]}),(0,t.jsxs)(k.NI,{id:"xl",mt:7,children:[(0,t.jsx)(w.l,{children:"Size (in bytes)"}),(0,t.jsx)(b.I,{name:"xl",value:u,onChange:n}),(0,t.jsx)(k.Q6,{children:"Allows to show size in the torrent client before data is aquired from the peers. Not required, may be unsupported by some clients"})]}),(0,t.jsx)(ex,{announce:d,changeField:n,clearAnnounce:h,replaceAnnounce:x})]}),(0,t.jsx)(a.xu,{children:(0,t.jsx)(ea,{torrentObject:{infoHash:l,name:i,announce:d,xl:u}})})]})]})}function ef(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{}),(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"Magnets - Online Magnet Links Editor"}),(0,t.jsx)("meta",{name:"description",content:"Magnets is a visual magnet link generator, editor and parser. Convert torrent files to magnets and vice versa, edit and import trackers, and much more"})]}),(0,t.jsx)(a.xu,{mx:"auto",p:"6",maxW:"1200px",children:(0,t.jsx)(em,{})})]})}},1982:function(){}},function(e){e.O(0,[660,365,594,643,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);