(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4373:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return me}});var t=r(9008),o=r(8017),c=r(7294),i=r(980),a=r(9444),s=r(1869),l=r(4096),u=r(6034),d=r(58),f=r(8420),p=r(9957),h=r(9583),j=r(8193),x=r(5893);function g(){var e=(0,i.useColorMode)().toggleColorMode,n=(0,i.useColorModeValue)("dark","light"),r=(0,i.useColorModeValue)(h.TLr,h.Mei),t=(0,i.useColorModeValue)("gray.100","gray.900"),g=(0,c.useRef)(),m=(0,c.useState)(0),b=m[0],v=m[1],O=(g.current?g.current.getBoundingClientRect():{}).height,y=void 0===O?0:O,w=(0,p.M)().scrollY;(0,c.useEffect)((function(){return w.onChange((function(){return v(w.get())}))}),[w]);var k=(0,x.jsx)(a.r,{href:"https://lynx.pink/buymeacoffee/",isExternal:!0,children:(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(h.$0H,{}),colorScheme:"pink",variant:"solid",ml:4,children:"Sponsor"})});return(0,x.jsx)(o.xu,{pos:"relative",children:(0,x.jsx)(i.chakra.header,{ref:g,shadow:b>y?"sm":void 0,transition:"box-shadow 0.2s",bg:t,w:"full",overflowY:"hidden",children:(0,x.jsx)(i.chakra.div,{h:"4.5rem",mx:"auto",maxW:"1200px",children:(0,x.jsxs)(l.k,{w:"full",h:"full",px:"6",align:"center",justify:"space-between",children:[(0,x.jsx)(l.k,{align:"center",children:(0,x.jsx)("b",{children:"Magnets"})}),(0,x.jsxs)(l.k,{justify:"flex-end",w:"full",maxW:"824px",align:"center",color:"gray.400",children:[(0,x.jsx)(u.Ug,{spacing:"5",children:(0,x.jsx)(a.r,{isExternal:!0,href:"https://github.com/4ndv/magnets",children:(0,x.jsx)(d.J,{as:j.RrF,display:"block",transition:"color 0.2s",w:"5",h:"5",_hover:{color:"gray.600"}})})}),(0,x.jsx)(f.h,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",ml:{base:"0",md:"3"},onClick:e,icon:(0,x.jsx)(r,{})}),k]})]})})})})}var m=r(2809),b=r(3663),v=r(4848),O=r(6618),y=r(9887),w=r(4671),k=r(4860),P=r(9230),C=r(17),S=r(155),D=r(5203),I=r.n(D),E=r(8718),A=r.n(E),z=r(8764);function _(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var Z=["infoHash","name","announce","xl"];function F(e){return new Promise((function(n,t){var o=new r.g.FileReader;o.onload=function(){return n(z.Buffer.from(o.result))},o.onerrror=t,o.readAsArrayBuffer(e)}))}function M(e){var n=I()(e),r=A()(n,Z);return r.announce=r.announce.join("\n"),r}function N(e){var n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(n){(0,m.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({},e);return 0===+n.xl&&delete n.xl,n.announce=n.announce.split("\n").filter(Boolean),n}function R(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function V(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?R(Object(r),!0).forEach((function(n){(0,m.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var q={link:"",valid:!0},H=(0,w.Z)((function(e){return V(V({},q),{},{changeLink:function(n){var r=n.target.value;e({link:r,valid:!0})},parseAndValidate:function(n){try{var r=M(n);return e({valid:!0}),r}catch(t){return e({valid:!1}),!1}},reset:function(){e(q)}})}));function L(e){var n=e.replaceEditorState,r=H((function(e){return e.valid})),t=H((function(e){return e.parseAndValidate})),o=H((function(e){return e.link})),c=H((function(e){return e.changeLink})),i=H((function(e){return e.reset})),a=(0,k.q)({onOpen:function(){return i()}}),l=a.isOpen,u=a.onOpen,d=a.onClose;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(S.owE,{}),colorScheme:"teal",variant:"outline",onClick:u,children:"Import from magnet link"}),(0,x.jsxs)(P.u_,{isOpen:l,onClose:d,size:"xl",children:[(0,x.jsx)(P.ZA,{}),(0,x.jsxs)(P.hz,{children:[(0,x.jsx)(P.xB,{children:"Import from magnet link"}),(0,x.jsx)(P.ol,{}),(0,x.jsx)(P.fe,{children:(0,x.jsx)(C.g,{placeholder:"magnet:?xt=urn:btih:WJWICNR2YGRDM5STQWTQFLWBA6SJLANV&dn=example&xl=3071934464&tr=https%3A%2F%2Fexample.com%2Fannounce",value:o,onChange:c,isInvalid:!r,rows:10})}),(0,x.jsxs)(P.mz,{children:[(0,x.jsx)(s.z,{colorScheme:"red",mr:3,onClick:d,children:"Cancel"}),(0,x.jsx)(s.z,{colorScheme:"teal",variant:"solid",onClick:function(){return function(){var e=t(o);e&&(n(e),d())}()},children:"Import"})]})]})]})]})}var B=r(266),Q=r(809),W=r.n(Q),T=r(7302),J=r(3356),X=r(8448);function K(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function U(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?K(Object(r),!0).forEach((function(n){(0,m.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Y(e){var n=e.onFileAccepted,r=(0,c.useCallback)((function(e){n(e[0])}),[n]),t=(0,J.uI)({onDrop:r,accept:".torrent",maxFiles:1,multiple:!1}),o=t.getRootProps,a=t.getInputProps,s=t.isDragActive,l=s?"Drop the files here ...":"Drag 'n' drop .torrent file here, or click to select files",u=(0,i.useColorModeValue)("gray.100","gray.600"),f=(0,i.useColorModeValue)(s?"teal.300":"gray.300",s?"teal.500":"gray.500");return(0,x.jsxs)(X.M,U(U({p:10,cursor:"pointer",bg:s?u:"transparent",_hover:{bg:u},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:f},o()),{},{children:[(0,x.jsx)("input",U({},a())),(0,x.jsx)(d.J,{as:j.QZL,mr:2}),(0,x.jsx)("p",{children:l})]}))}var $=(0,w.Z)((function(e){return{valid:!0,parseAndValidate:function(){var n=(0,B.Z)(W().mark((function n(r){var t,o;return W().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(r);case 2:return t=n.sent,n.prev=3,o=M(t),e({valid:!0}),n.abrupt("return",o);case 9:return n.prev=9,n.t0=n.catch(3),e({valid:!1}),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(e){return n.apply(this,arguments)}}(),reset:function(){e({valid:!0})}}}));function G(e){var n=e.replaceEditorState,r=$((function(e){return e.valid})),t=$((function(e){return e.parseAndValidate})),o=$((function(e){return e.reset})),c=(0,k.q)({onOpen:function(){return o()}}),i=c.isOpen,a=c.onOpen,l=c.onClose,u=function(){var e=(0,B.Z)(W().mark((function e(r){var o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r);case 2:(o=e.sent)&&(n(o),l());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=null;return r||(d=(0,x.jsxs)(T.bZ,{status:"error",borderRadius:4,mt:5,children:[(0,x.jsx)(T.zM,{}),(0,x.jsx)(T.Cd,{mr:2,children:"Invalid file"}),(0,x.jsx)(T.X,{children:"Choose another .torrent file"})]})),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(j.QZL,{}),colorScheme:"teal",variant:"outline",onClick:a,children:"Import from .torrent file"}),(0,x.jsxs)(P.u_,{isOpen:i,onClose:l,size:"xl",children:[(0,x.jsx)(P.ZA,{}),(0,x.jsxs)(P.hz,{children:[(0,x.jsx)(P.xB,{children:"Import from .torrent file"}),(0,x.jsx)(P.ol,{}),(0,x.jsxs)(P.fe,{children:[(0,x.jsx)(Y,{onFileAccepted:u}),d]}),(0,x.jsx)(P.mz,{children:(0,x.jsx)(s.z,{colorScheme:"red",onClick:l,children:"Cancel"})})]})]})]})}var ee=r(8514);function ne(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var re=(0,c.forwardRef)((function(e,n){return(0,x.jsx)(C.g,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(r),!0).forEach((function(n){(0,m.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({transition:"height none",minH:"unset",overflow:"hidden",w:"100%",resize:"none",ref:n,minRows:1,as:ee.Z},e))})),te=r(336);function oe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var ce=function(e){return(0,x.jsx)(o.xu,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?oe(Object(r),!0).forEach((function(n){(0,m.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({padding:"5",rounded:"8px",bg:(0,i.useColorModeValue)("gray.100","gray.900")},e))};var ie=function(e){var n=e.code;return(0,x.jsx)(o.xu,{position:"relative",zIndex:"0",children:(0,x.jsx)(ce,{overflow:"hidden",children:n})})},ae=r(2873);var se=function(e){var n=e.code,r=(0,ae.V)(n),t=r.hasCopied,o=r.onCopy;return(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(S.owE,{}),variant:"outline",onClick:o,children:t?"Copied":"Copy magnet link"})};function le(e){var n,r=e.torrentObject,t=r.infoHash,o=/^[0-9a-fA-F]{40}$/i.test(t),c=o?(n=r,I().toMagnetURI(N(n))):"Specify valid Info Hash to generate magnet link",i=null;return o&&(i=(0,x.jsxs)(u.Kq,{direction:{sm:"column",md:"row"},spacing:1,mb:3,children:[(0,x.jsx)(se,{code:c}),(0,x.jsx)(a.r,{href:"https://itorrents.org/torrent/".concat(t,".torrent"),isExternal:!0,children:(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(j.xNt,{}),variant:"outline",children:"Download .torrent from cache"})})]})),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(te.X,{size:"lg",mb:2,children:"Result"}),i,(0,x.jsx)(ie,{code:c})]})}var ue=r(1986),de=["best","best_ip","all","all_ip","all_udp","all_http","all_https","all_ws"];function fe(e){var n=e.announce,t=e.changeField,o=e.clearAnnounce,c=e.replaceAnnounce,i=function(e){return(0,B.Z)(W().mark((function t(){var o,i,a;return W().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.g.fetch("https://cdn.jsdelivr.net/gh/ngosang/trackerslist@master/trackers_".concat(e,".txt"));case 2:return o=t.sent,t.next=5,o.text();case 5:i=t.sent,a=i.split("\n").filter(Boolean),c(Array.from(new Set(n.split("\n").concat(a))).filter(Boolean).join("\n"));case 8:case"end":return t.stop()}}),t)})))};return(0,x.jsxs)(v.NI,{id:"xl",mt:7,children:[(0,x.jsx)(O.l,{children:"Trackers"}),(0,x.jsxs)(u.Kq,{direction:{sm:"column",md:"row"},spacing:1,my:2,children:[(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(h.lp8,{}),colorScheme:"red",variant:"outline",onClick:o,disabled:""===n.trim(),children:"Clear"}),(0,x.jsxs)(ue.v2,{children:[(0,x.jsx)(ue.j2,{as:s.z,variant:"outline",rightIcon:(0,x.jsx)(h.RiI,{}),children:"Add from github.com/ngosang/trackerslist"}),(0,x.jsx)(ue.qy,{children:de.map((function(e){return(0,x.jsx)(ue.sN,{onClick:i(e),children:e},e)}))})]})]}),(0,x.jsx)(re,{value:n,name:"announce",onChange:t}),(0,x.jsx)(v.Q6,{children:"List of the trackers which will be used to find peers"})]})}function pe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function he(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?pe(Object(r),!0).forEach((function(n){(0,m.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var je={infoHash:"",name:"",announce:"",xl:"",edited:!1},xe=(0,w.Z)((function(e){return he(he({},je),{},{clear:function(){return e(je)},replace:function(n){return e(he(he(he({},je),n),{},{edited:!0}))},changeField:function(n){var r,t=n.target,o=t.name,c=t.value;e((r={},(0,m.Z)(r,o,c),(0,m.Z)(r,"edited",!0),r))},changeName:function(n){var r=n.target.value;e({name:r.replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," "),edited:!0})},clearAnnounce:function(){return e({announce:"",edited:!0})},replaceAnnounce:function(n){return e({announce:n,edited:!0})}})}));function ge(){var e=xe((function(e){return e.replace})),n=xe((function(e){return e.changeField})),r=xe((function(e){return e.edited})),t=xe((function(e){return e.infoHash})),c=xe((function(e){return e.name})),i=xe((function(e){return e.changeName})),l=xe((function(e){return e.announce})),d=xe((function(e){return e.clearAnnounce})),f=xe((function(e){return e.replaceAnnounce})),p=xe((function(e){return e.xl})),j={infoHash:t,name:c,announce:l,xl:p};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(u.Kq,{direction:{sm:"column",md:"row"},spacing:1,children:[(0,x.jsx)(L,{replaceEditorState:e}),(0,x.jsx)(G,{replaceEditorState:e}),(0,x.jsx)(s.z,{leftIcon:(0,x.jsx)(h.lp8,{}),colorScheme:"red",variant:"outline",onClick:xe((function(e){return e.clear})),disabled:!r,children:"Reset form"})]}),(0,x.jsxs)(b.M,{columns:{sm:1,md:2},mt:5,spacing:8,children:[(0,x.jsxs)(o.xu,{children:[(0,x.jsxs)(v.NI,{id:"infoHash",isRequired:!0,children:[(0,x.jsx)(O.l,{children:"Info Hash"}),(0,x.jsx)(y.I,{name:"infoHash",value:t,maxLength:40,onChange:n}),(0,x.jsxs)(v.Q6,{children:["Unique hash of a torrent, learn more"," ",(0,x.jsx)(a.r,{isExternal:!0,textDecoration:"underline",href:"https://stackoverflow.com/a/28601408/5257518",children:"here"})]})]}),(0,x.jsxs)(v.NI,{id:"name",mt:7,children:[(0,x.jsx)(O.l,{children:"Name"}),(0,x.jsx)(re,{name:"name",value:c,onChange:i}),(0,x.jsx)(v.Q6,{children:"It will appear in the torrent client, not required"})]}),(0,x.jsxs)(v.NI,{id:"xl",mt:7,children:[(0,x.jsx)(O.l,{children:"Size (in bytes)"}),(0,x.jsx)(y.I,{name:"xl",value:p,onChange:n}),(0,x.jsx)(v.Q6,{children:"Allows to show size in the torrent client before data is aquired from the peers. Not required, may be unsupported by some clients"})]}),(0,x.jsx)(fe,{announce:l,changeField:n,clearAnnounce:d,replaceAnnounce:f})]}),(0,x.jsx)(o.xu,{children:(0,x.jsx)(le,{torrentObject:j})})]})]})}function me(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g,{}),(0,x.jsxs)(t.default,{children:[(0,x.jsx)("title",{children:"Magnets - Online Magnet Links Editor"}),(0,x.jsx)("meta",{name:"description",content:"Magnets is a visual magnet link generator, editor and parser. Convert torrent files to magnets and vice versa, edit and import trackers, and much more"}),(0,x.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,x.jsx)(o.xu,{mx:"auto",p:"6",maxW:"1200px",children:(0,x.jsx)(ge,{})})]})}},8581:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4373)}])},1982:function(){},2361:function(){},4616:function(){},1356:function(){}},function(e){e.O(0,[774,260,445,617,901,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);