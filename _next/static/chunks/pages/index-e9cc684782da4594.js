(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7472:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7227)}])},7227:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ep}});var t=r(2676),l=r(8161),i=r.n(l),a=r(7376),s=r(790),o=r(5265),c=r(7782),d=r(6589),h=r(5847),x=r(2730),u=r(6928),j=r(7582),m=r(7311),f=r(9276);function p(){let{toggleColorMode:e}=(0,s.If)(),n=(0,s.ff)("dark","light"),r=(0,s.ff)(m.TLr,m.Mei),l=(0,s.ff)("gray.100","gray.900"),i=(0,t.jsx)(o.r,{href:"https://lynx.pink/buymeacoffee/",isExternal:!0,children:(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(m.$0H,{}),colorScheme:"pink",variant:"solid",ml:4,children:"Sponsor"})});return(0,t.jsx)(a.xu,{pos:"relative",children:(0,t.jsx)(d.m.header,{bg:l,w:"full",overflowY:"hidden",children:(0,t.jsx)(d.m.div,{h:"4.5rem",mx:"auto",maxW:"1200px",children:(0,t.jsxs)(h.k,{w:"full",h:"full",px:"6",align:"center",justify:"space-between",children:[(0,t.jsx)(h.k,{align:"center",children:(0,t.jsx)("b",{children:"Magnets"})}),(0,t.jsxs)(h.k,{justify:"flex-end",w:"full",maxW:"824px",align:"center",color:"gray.400",children:[(0,t.jsx)(x.U,{spacing:"5",children:(0,t.jsx)(o.r,{isExternal:!0,href:"https://github.com/4ndv/magnets",children:(0,t.jsx)(u.J,{as:f.RrF,display:"block",transition:"color 0.2s",w:"5",h:"5",_hover:{color:"gray.600"}})})}),(0,t.jsx)(j.h,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",ml:{base:"0",md:"3"},onClick:e,icon:(0,t.jsx)(r,{})}),i]})]})})})})}var g=r(4292),v=r(2962),k=r(7021),w=r(2346),b=r(8876),C=r(8251),y=r(5271),I=r(2817),_=r(3173);let z=(0,y.forwardRef)((e,n)=>(0,t.jsx)(I.g,{transition:"height none",minH:"unset",overflow:"hidden",w:"100%",resize:"none",ref:n,minRows:1,as:_.Z,...e}));var A=r(628),S=r(4585),F=r(4875),E=r(2423),N=r(5002),R=r(7637),L=r(7257),Q=r(9320),q=r(2489),H=r(2515),M=r(9334),O=r.n(M),T=r(5872);let W=["infoHash","name","announce","xl","length"];async function D(e){let n=await (0,H.ZP)(e),r=O()(n,W);return!r.xl&&r.length&&(r.xl=r.length,delete r.length),r.announce=r.announce.join("\n"),r}let B={link:"",valid:!0},V=(0,C.Ue)(e=>({...B,changeLink:n=>{let{target:{value:r}}=n;e({link:r,valid:!0})},parseAndValidate:async n=>{try{let r=await D(n);return e({valid:!0}),r}catch(n){return e({valid:!1}),!1}},reset:()=>{e(B)}}));function Z(e){let{replaceEditorState:n}=e,r=V(e=>e.valid),l=V(e=>e.parseAndValidate),i=V(e=>e.link),a=V(e=>e.changeLink),s=V(e=>e.reset),{isOpen:o,onOpen:d,onClose:h}=(0,A.q)({onOpen:()=>s()}),x=async()=>{let e=await l(i);e&&(n(e),h())};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(q.owE,{}),colorScheme:"teal",variant:"outline",onClick:d,children:"Import from magnet link"}),(0,t.jsxs)(S.u_,{isOpen:o,onClose:h,size:"xl",children:[(0,t.jsx)(F.Z,{}),(0,t.jsxs)(E.h,{children:[(0,t.jsx)(N.x,{children:"Import from magnet link"}),(0,t.jsx)(R.o,{}),(0,t.jsx)(L.f,{children:(0,t.jsx)(I.g,{placeholder:"magnet:?xt=urn:btih:WJWICNR2YGRDM5STQWTQFLWBA6SJLANV&dn=example&xl=3071934464&tr=https%3A%2F%2Fexample.com%2Fannounce",value:i,onChange:a,isInvalid:!r,rows:10})}),(0,t.jsxs)(Q.m,{children:[(0,t.jsx)(c.z,{colorScheme:"red",mr:3,onClick:h,children:"Cancel"}),(0,t.jsx)(c.z,{colorScheme:"teal",variant:"solid",onClick:()=>x(),children:"Import"})]})]})]})]})}var U=r(8847),J=r(1873),P=r(3246),X=r(4896),K=r(6629),Y=r(9429);function $(e){let{onFileAccepted:n}=e,r=(0,y.useCallback)(e=>{n(e[0])},[n]),{getRootProps:l,getInputProps:i,isDragActive:a}=(0,K.uI)({onDrop:r,accept:".torrent",maxFiles:1,multiple:!1}),o=(0,s.ff)("gray.100","gray.600"),c=(0,s.ff)(a?"teal.300":"gray.300",a?"teal.500":"gray.500");return(0,t.jsxs)(Y.M,{p:10,cursor:"pointer",bg:a?o:"transparent",_hover:{bg:o},transition:"background-color 0.2s ease",borderRadius:4,border:"3px dashed",borderColor:c,...l(),children:[(0,t.jsx)("input",{...i()}),(0,t.jsx)(u.J,{as:f.QZL,mr:2}),(0,t.jsx)("p",{children:a?"Drop the files here ...":"Drag 'n' drop .torrent file here, or click to select files"})]})}let G=(0,C.Ue)(e=>({valid:!0,parseAndValidate:async n=>{let t=await new Promise((e,t)=>{let l=new r.g.FileReader;l.onload=()=>e(T.lW.from(l.result)),l.onerrror=t,l.readAsArrayBuffer(n)});try{let n=await D(t);return e({valid:!0}),n}catch(n){return e({valid:!1}),!1}},reset:()=>{e({valid:!0})}}));function ee(e){let{replaceEditorState:n}=e,r=G(e=>e.valid),l=G(e=>e.parseAndValidate),i=G(e=>e.reset),{isOpen:a,onOpen:s,onClose:o}=(0,A.q)({onOpen:()=>i()}),d=async e=>{let r=await l(e);r&&(n(r),o())},h=null;return r||(h=(0,t.jsxs)(U.b,{status:"error",borderRadius:4,mt:5,children:[(0,t.jsx)(J.z,{}),(0,t.jsx)(P.C,{mr:2,children:"Invalid file"}),(0,t.jsx)(X.X,{children:"Choose another .torrent file"})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(f.QZL,{}),colorScheme:"teal",variant:"outline",onClick:s,children:"Import from .torrent file"}),(0,t.jsxs)(S.u_,{isOpen:a,onClose:o,size:"xl",children:[(0,t.jsx)(F.Z,{}),(0,t.jsxs)(E.h,{children:[(0,t.jsx)(N.x,{children:"Import from .torrent file"}),(0,t.jsx)(R.o,{}),(0,t.jsxs)(L.f,{children:[(0,t.jsx)($,{onFileAccepted:d}),h]}),(0,t.jsx)(Q.m,{children:(0,t.jsx)(c.z,{colorScheme:"red",onClick:o,children:"Cancel"})})]})]})]})}var en=r(7893),er=function(e){return(0,t.jsx)(a.xu,{padding:"5",rounded:"8px",bg:(0,s.ff)("gray.100","gray.900"),...e})},et=function(e){let{code:n}=e;return(0,t.jsx)(a.xu,{position:"relative",zIndex:"0",children:(0,t.jsx)(er,{overflow:"hidden",wordBreak:"break-all",children:n})})},el=r(3213),ei=function(e){let{code:n}=e,{hasCopied:r,onCopy:l}=(0,el.V)(n);return(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(q.owE,{}),variant:"outline",onClick:l,children:r?"Copied":"Copy magnet link"})};function ea(e){let{torrentObject:n}=e,{infoHash:r}=n,l=/^[0-9a-fA-F]{40}$/i.test(r),i=l?(0,H.lC)(function(e){let n={...e};return 0==+n.xl&&delete n.xl,n.announce=n.announce.split("\n").filter(Boolean),n}(n)):"Specify valid Info Hash to generate magnet link",a=null;return l&&(a=(0,t.jsxs)(g.K,{direction:{base:"column",md:"row"},spacing:1,mb:3,children:[(0,t.jsx)(ei,{code:i}),(0,t.jsx)(o.r,{href:"https://itorrents.org/torrent/".concat(r,".torrent"),isExternal:!0,children:(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(f.xNt,{}),variant:"outline",w:"100%",children:"Download .torrent from cache"})})]})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(en.X,{size:"lg",mb:2,children:"Result"}),a,(0,t.jsx)(et,{code:i})]})}var es=r(1643),eo=r(3698),ec=r(2788),ed=r(2408);let eh=["best","best_ip","all","all_ip","all_udp","all_http","all_https","all_ws"],ex=["stable","udp","http","live","all"];function eu(e){let{announce:n,changeField:l,clearAnnounce:i,replaceAnnounce:a}=e,s=async e=>{let t=await r.g.fetch(e),l=(await t.text()).split("\n").filter(Boolean);a(Array.from(new Set(n.split("\n").concat(l))).filter(Boolean).join("\n"))},d=e=>()=>s("https://cdn.jsdelivr.net/gh/ngosang/trackerslist@master/trackers_".concat(e,".txt")),h=e=>()=>s("https://newtrackon.com/api/".concat(e));return(0,t.jsxs)(k.NI,{id:"xl",mt:7,children:[(0,t.jsx)(w.l,{children:"Trackers"}),(0,t.jsxs)(g.K,{direction:{base:"column",md:"row"},spacing:1,my:2,children:[(0,t.jsxs)(es.v,{children:[(0,t.jsx)(eo.j,{as:c.z,variant:"outline",rightIcon:(0,t.jsx)(m.RiI,{}),children:"Add from trackerslist"}),(0,t.jsx)(ec.q,{children:eh.map(e=>(0,t.jsx)(ed.s,{onClick:d(e),children:e},e))})]}),(0,t.jsxs)(es.v,{children:[(0,t.jsx)(eo.j,{as:c.z,variant:"outline",rightIcon:(0,t.jsx)(m.RiI,{}),children:"Add from newTrackon"}),(0,t.jsx)(ec.q,{children:ex.map(e=>(0,t.jsx)(ed.s,{onClick:h(e),children:e},e))})]}),(0,t.jsx)(j.h,{icon:(0,t.jsx)(m.lp8,{}),"aria-label":"Clear",colorScheme:"red",variant:"outline",onClick:i,disabled:""===n.trim()})]}),(0,t.jsx)(z,{value:n,name:"announce",onChange:l}),(0,t.jsx)(k.Q6,{children:"List of the trackers which will be used to find peers"}),(0,t.jsxs)(k.Q6,{children:["*",(0,t.jsx)(o.r,{href:"https://github.com/ngosang/trackerslist",textDecoration:"underline",isExternal:!0,children:"trackerslist"})," ","- is a daily updated list of public bittorrent trackers"]}),(0,t.jsxs)(k.Q6,{children:["**",(0,t.jsx)(o.r,{href:"https://newtrackon.com",textDecoration:"underline",isExternal:!0,children:"newTrackon"})," ","- is a service monitoring uptime of a public bittorrent trackers"]})]})}let ej={infoHash:"",name:"",announce:"",xl:"",edited:!1},em=(0,C.Ue)(e=>({...ej,clear:()=>e(ej),replace:n=>e({...ej,...n,edited:!0}),changeField:n=>{let{name:r,value:t}=n.target;e({[r]:t,edited:!0})},changeName:n=>{let{value:r}=n.target;e({name:r.replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," "),edited:!0})},clearAnnounce:()=>e({announce:"",edited:!0}),replaceAnnounce:n=>e({announce:n,edited:!0})}));function ef(){let e=em(e=>e.replace),n=em(e=>e.changeField),r=em(e=>e.edited),l=em(e=>e.infoHash),i=em(e=>e.name),s=em(e=>e.changeName),d=em(e=>e.announce),h=em(e=>e.clearAnnounce),x=em(e=>e.replaceAnnounce),u=em(e=>e.xl);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.K,{direction:{base:"column",md:"row"},spacing:1,children:[(0,t.jsx)(Z,{replaceEditorState:e}),(0,t.jsx)(ee,{replaceEditorState:e}),(0,t.jsx)(c.z,{leftIcon:(0,t.jsx)(m.lp8,{}),colorScheme:"red",variant:"outline",onClick:em(e=>e.clear),disabled:!r,children:"Reset form"})]}),(0,t.jsxs)(v.M,{columns:{sm:1,md:2},mt:5,spacing:8,children:[(0,t.jsxs)(a.xu,{children:[(0,t.jsxs)(k.NI,{id:"infoHash",isRequired:!0,children:[(0,t.jsx)(w.l,{children:"Info Hash"}),(0,t.jsx)(b.I,{name:"infoHash",value:l,maxLength:40,onChange:n}),(0,t.jsxs)(k.Q6,{children:["Unique hash of a torrent, learn more"," ",(0,t.jsx)(o.r,{isExternal:!0,textDecoration:"underline",href:"https://stackoverflow.com/a/28601408/5257518",children:"here"})]})]}),(0,t.jsxs)(k.NI,{id:"name",mt:7,children:[(0,t.jsx)(w.l,{children:"Name"}),(0,t.jsx)(z,{name:"name",value:i,onChange:s}),(0,t.jsx)(k.Q6,{children:"It will appear in the torrent client, not required"})]}),(0,t.jsxs)(k.NI,{id:"xl",mt:7,children:[(0,t.jsx)(w.l,{children:"Size (in bytes)"}),(0,t.jsx)(b.I,{name:"xl",value:u,onChange:n}),(0,t.jsx)(k.Q6,{children:"Allows to show size in the torrent client before data is aquired from the peers. Not required, may be unsupported by some clients"})]}),(0,t.jsx)(eu,{announce:d,changeField:n,clearAnnounce:h,replaceAnnounce:x})]}),(0,t.jsx)(a.xu,{children:(0,t.jsx)(ea,{torrentObject:{infoHash:l,name:i,announce:d,xl:u}})})]})]})}function ep(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{}),(0,t.jsxs)(i(),{children:[(0,t.jsx)("title",{children:"Magnets - Online Magnet Links Editor"}),(0,t.jsx)("meta",{name:"description",content:"Magnets is a visual magnet link generator, editor and parser. Convert torrent files to magnets and vice versa, edit and import trackers, and much more"})]}),(0,t.jsx)(a.xu,{mx:"auto",p:"6",maxW:"1200px",children:(0,t.jsx)(ef,{})})]})}},5569:function(){}},function(e){e.O(0,[209,755,395,666,888,774,179],function(){return e(e.s=7472)}),_N_E=e.O()}]);